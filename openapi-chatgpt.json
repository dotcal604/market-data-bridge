{
    "openapi":  "3.1.0",
    "info":  {
                 "title":  "Market Data Bridge",
                 "description":  "Market data API powered by Yahoo Finance (always available) + IBKR account data (when TWS/Gateway is running). Provides real-time quotes, historical bars, options chains, financials, earnings, news, screeners, and brokerage account info.",
                 "version":  "3.0.0"
             },
    "servers":  [
                    {
                        "url":  "https://denae-unbewildering-sarcastically.ngrok-free.dev"
                    }
                ],
    "components":  {
                       "securitySchemes":  {
                                               "BearerAuth":  {
                                                                  "type":  "http",
                                                                  "scheme":  "bearer"
                                                              },
                                               "ApiKeyAuth":  {
                                                                  "type":  "apiKey",
                                                                  "in":  "header",
                                                                  "name":  "X-API-Key"
                                                              }
                                           }
                   },
    "security":  [
                     {
                         "BearerAuth":  [

                                        ]
                     },
                     {
                         "ApiKeyAuth":  [

                                        ]
                     }
                 ],
    "paths":  {
                  "/api/status":  {
                                      "get":  {
                                                  "operationId":  "getStatus",
                                                  "summary":  "Get bridge status - market data availability and IBKR connection state",
                                                  "responses":  {
                                                                    "200":  {
                                                                                "description":  "Bridge status",
                                                                                "content":  {
                                                                                                "application/json":  {
                                                                                                                         "schema":  {
                                                                                                                                        "type":  "object",
                                                                                                                                        "properties":  {
                                                                                                                                                           "status":  {
                                                                                                                                                                          "type":  "string"
                                                                                                                                                                      },
                                                                                                                                                           "marketData":  {
                                                                                                                                                                              "type":  "string"
                                                                                                                                                                          },
                                                                                                                                                           "screener":  {
                                                                                                                                                                            "type":  "string"
                                                                                                                                                                        },
                                                                                                                                                           "ibkr":  {
                                                                                                                                                                        "type":  "object",
                                                                                                                                                                        "properties":  {
                                                                                                                                                                                           "connected":  {
                                                                                                                                                                                                             "type":  "boolean"
                                                                                                                                                                                                         },
                                                                                                                                                                                           "host":  {
                                                                                                                                                                                                        "type":  "string"
                                                                                                                                                                                                    },
                                                                                                                                                                                           "port":  {
                                                                                                                                                                                                        "type":  "integer"
                                                                                                                                                                                                    },
                                                                                                                                                                                           "clientId":  {
                                                                                                                                                                                                            "type":  "integer"
                                                                                                                                                                                                        },
                                                                                                                                                                                           "note":  {
                                                                                                                                                                                                        "type":  "string"
                                                                                                                                                                                                    }
                                                                                                                                                                                       }
                                                                                                                                                                    },
                                                                                                                                                           "timestamp":  {
                                                                                                                                                                             "type":  "string"
                                                                                                                                                                         }
                                                                                                                                                       }
                                                                                                                                    }
                                                                                                                     }
                                                                                            }
                                                                            }
                                                                }
                                              }
                                  },
                  "/api/quote/{symbol}":  {
                                              "get":  {
                                                          "operationId":  "getQuote",
                                                          "summary":  "Smart quote: tries IBKR real-time first, falls back to Yahoo. Returns source field indicating which was used.",
                                                          "parameters":  [
                                                                             {
                                                                                 "name":  "symbol",
                                                                                 "in":  "path",
                                                                                 "required":  true,
                                                                                 "schema":  {
                                                                                                "type":  "string"
                                                                                            },
                                                                                 "description":  "Ticker symbol, e.g. AAPL, MSFT, SPY"
                                                                             }
                                                                         ],
                                                          "responses":  {
                                                                            "200":  {
                                                                                        "description":  "Quote data with source indicator",
                                                                                        "content":  {
                                                                                                        "application/json":  {
                                                                                                                                 "schema":  {
                                                                                                                                                "type":  "object",
                                                                                                                                                "properties":  {
                                                                                                                                                                   "symbol":  {
                                                                                                                                                                                  "type":  "string"
                                                                                                                                                                              },
                                                                                                                                                                   "source":  {
                                                                                                                                                                                  "type":  "string",
                                                                                                                                                                                  "enum":  [
                                                                                                                                                                                               "ibkr",
                                                                                                                                                                                               "yahoo"
                                                                                                                                                                                           ],
                                                                                                                                                                                  "description":  "Data source: ibkr (real-time) or yahoo (delayed)"
                                                                                                                                                                              },
                                                                                                                                                                   "bid":  {
                                                                                                                                                                               "type":  "number",
                                                                                                                                                                               "nullable":  true
                                                                                                                                                                           },
                                                                                                                                                                   "ask":  {
                                                                                                                                                                               "type":  "number",
                                                                                                                                                                               "nullable":  true
                                                                                                                                                                           },
                                                                                                                                                                   "last":  {
                                                                                                                                                                                "type":  "number",
                                                                                                                                                                                "nullable":  true
                                                                                                                                                                            },
                                                                                                                                                                   "open":  {
                                                                                                                                                                                "type":  "number",
                                                                                                                                                                                "nullable":  true
                                                                                                                                                                            },
                                                                                                                                                                   "high":  {
                                                                                                                                                                                "type":  "number",
                                                                                                                                                                                "nullable":  true
                                                                                                                                                                            },
                                                                                                                                                                   "low":  {
                                                                                                                                                                               "type":  "number",
                                                                                                                                                                               "nullable":  true
                                                                                                                                                                           },
                                                                                                                                                                   "close":  {
                                                                                                                                                                                 "type":  "number",
                                                                                                                                                                                 "nullable":  true
                                                                                                                                                                             },
                                                                                                                                                                   "volume":  {
                                                                                                                                                                                  "type":  "number",
                                                                                                                                                                                  "nullable":  true
                                                                                                                                                                              },
                                                                                                                                                                   "change":  {
                                                                                                                                                                                  "type":  "number",
                                                                                                                                                                                  "nullable":  true
                                                                                                                                                                              },
                                                                                                                                                                   "changePercent":  {
                                                                                                                                                                                         "type":  "number",
                                                                                                                                                                                         "nullable":  true
                                                                                                                                                                                     },
                                                                                                                                                                   "marketCap":  {
                                                                                                                                                                                     "type":  "number",
                                                                                                                                                                                     "nullable":  true
                                                                                                                                                                                 },
                                                                                                                                                                   "timestamp":  {
                                                                                                                                                                                     "type":  "string"
                                                                                                                                                                                 }
                                                                                                                                                               }
                                                                                                                                            }
                                                                                                                             }
                                                                                                    }
                                                                                    }
                                                                        }
                                                      }
                                          },
                  "/api/history/{symbol}":  {
                                                "get":  {
                                                            "operationId":  "getHistoricalBars",
                                                            "summary":  "Get historical OHLCV bars for a stock",
                                                            "parameters":  [
                                                                               {
                                                                                   "name":  "symbol",
                                                                                   "in":  "path",
                                                                                   "required":  true,
                                                                                   "schema":  {
                                                                                                  "type":  "string"
                                                                                              },
                                                                                   "description":  "Ticker symbol"
                                                                               },
                                                                               {
                                                                                   "name":  "period",
                                                                                   "in":  "query",
                                                                                   "schema":  {
                                                                                                  "type":  "string",
                                                                                                  "default":  "3mo"
                                                                                              },
                                                                                   "description":  "Time period: \"1d\",\"5d\",\"1mo\",\"3mo\",\"6mo\",\"1y\",\"2y\",\"5y\",\"10y\",\"ytd\",\"max\""
                                                                               },
                                                                               {
                                                                                   "name":  "interval",
                                                                                   "in":  "query",
                                                                                   "schema":  {
                                                                                                  "type":  "string",
                                                                                                  "default":  "1d"
                                                                                              },
                                                                                   "description":  "Bar interval: \"1m\",\"5m\",\"15m\",\"1h\",\"1d\",\"1wk\",\"1mo\""
                                                                               }
                                                                           ],
                                                            "responses":  {
                                                                              "200":  {
                                                                                          "description":  "Historical bars",
                                                                                          "content":  {
                                                                                                          "application/json":  {
                                                                                                                                   "schema":  {
                                                                                                                                                  "type":  "object",
                                                                                                                                                  "properties":  {
                                                                                                                                                                     "symbol":  {
                                                                                                                                                                                    "type":  "string"
                                                                                                                                                                                },
                                                                                                                                                                     "count":  {
                                                                                                                                                                                   "type":  "integer"
                                                                                                                                                                               },
                                                                                                                                                                     "bars":  {
                                                                                                                                                                                  "type":  "array",
                                                                                                                                                                                  "items":  {
                                                                                                                                                                                                "type":  "object",
                                                                                                                                                                                                "properties":  {
                                                                                                                                                                                                                   "time":  {
                                                                                                                                                                                                                                "type":  "string"
                                                                                                                                                                                                                            },
                                                                                                                                                                                                                   "open":  {
                                                                                                                                                                                                                                "type":  "number"
                                                                                                                                                                                                                            },
                                                                                                                                                                                                                   "high":  {
                                                                                                                                                                                                                                "type":  "number"
                                                                                                                                                                                                                            },
                                                                                                                                                                                                                   "low":  {
                                                                                                                                                                                                                               "type":  "number"
                                                                                                                                                                                                                           },
                                                                                                                                                                                                                   "close":  {
                                                                                                                                                                                                                                 "type":  "number"
                                                                                                                                                                                                                             },
                                                                                                                                                                                                                   "volume":  {
                                                                                                                                                                                                                                  "type":  "number"
                                                                                                                                                                                                                              }
                                                                                                                                                                                                               }
                                                                                                                                                                                            }
                                                                                                                                                                              }
                                                                                                                                                                 }
                                                                                                                                              }
                                                                                                                               }
                                                                                                      }
                                                                                      }
                                                                          }
                                                        }
                                            },
                  "/api/details/{symbol}":  {
                                                "get":  {
                                                            "operationId":  "getStockDetails",
                                                            "summary":  "Get detailed company info: sector, industry, description, market cap, PE ratio, 52-week range",
                                                            "parameters":  [
                                                                               {
                                                                                   "name":  "symbol",
                                                                                   "in":  "path",
                                                                                   "required":  true,
                                                                                   "schema":  {
                                                                                                  "type":  "string"
                                                                                              },
                                                                                   "description":  "Ticker symbol"
                                                                               }
                                                                           ],
                                                            "responses":  {
                                                                              "200":  {
                                                                                          "description":  "Stock details",
                                                                                          "content":  {
                                                                                                          "application/json":  {
                                                                                                                                   "schema":  {
                                                                                                                                                  "type":  "object",
                                                                                                                                                  "properties":  {
                                                                                                                                                                     "symbol":  {
                                                                                                                                                                                    "type":  "string"
                                                                                                                                                                                },
                                                                                                                                                                     "longName":  {
                                                                                                                                                                                      "type":  "string",
                                                                                                                                                                                      "nullable":  true
                                                                                                                                                                                  },
                                                                                                                                                                     "shortName":  {
                                                                                                                                                                                       "type":  "string",
                                                                                                                                                                                       "nullable":  true
                                                                                                                                                                                   },
                                                                                                                                                                     "exchange":  {
                                                                                                                                                                                      "type":  "string",
                                                                                                                                                                                      "nullable":  true
                                                                                                                                                                                  },
                                                                                                                                                                     "currency":  {
                                                                                                                                                                                      "type":  "string",
                                                                                                                                                                                      "nullable":  true
                                                                                                                                                                                  },
                                                                                                                                                                     "quoteType":  {
                                                                                                                                                                                       "type":  "string",
                                                                                                                                                                                       "nullable":  true
                                                                                                                                                                                   },
                                                                                                                                                                     "sector":  {
                                                                                                                                                                                    "type":  "string",
                                                                                                                                                                                    "nullable":  true
                                                                                                                                                                                },
                                                                                                                                                                     "industry":  {
                                                                                                                                                                                      "type":  "string",
                                                                                                                                                                                      "nullable":  true
                                                                                                                                                                                  },
                                                                                                                                                                     "website":  {
                                                                                                                                                                                     "type":  "string",
                                                                                                                                                                                     "nullable":  true
                                                                                                                                                                                 },
                                                                                                                                                                     "longBusinessSummary":  {
                                                                                                                                                                                                 "type":  "string",
                                                                                                                                                                                                 "nullable":  true
                                                                                                                                                                                             },
                                                                                                                                                                     "fullTimeEmployees":  {
                                                                                                                                                                                               "type":  "integer",
                                                                                                                                                                                               "nullable":  true
                                                                                                                                                                                           },
                                                                                                                                                                     "marketCap":  {
                                                                                                                                                                                       "type":  "number",
                                                                                                                                                                                       "nullable":  true
                                                                                                                                                                                   },
                                                                                                                                                                     "trailingPE":  {
                                                                                                                                                                                        "type":  "number",
                                                                                                                                                                                        "nullable":  true
                                                                                                                                                                                    },
                                                                                                                                                                     "forwardPE":  {
                                                                                                                                                                                       "type":  "number",
                                                                                                                                                                                       "nullable":  true
                                                                                                                                                                                   },
                                                                                                                                                                     "dividendYield":  {
                                                                                                                                                                                           "type":  "number",
                                                                                                                                                                                           "nullable":  true
                                                                                                                                                                                       },
                                                                                                                                                                     "fiftyTwoWeekHigh":  {
                                                                                                                                                                                              "type":  "number",
                                                                                                                                                                                              "nullable":  true
                                                                                                                                                                                          },
                                                                                                                                                                     "fiftyTwoWeekLow":  {
                                                                                                                                                                                             "type":  "number",
                                                                                                                                                                                             "nullable":  true
                                                                                                                                                                                         }
                                                                                                                                                                 }
                                                                                                                                              }
                                                                                                                               }
                                                                                                      }
                                                                                      }
                                                                          }
                                                        }
                                            },
                  "/api/options/{symbol}":  {
                                                "get":  {
                                                            "operationId":  "getOptionsChain",
                                                            "summary":  "Get option expirations, strikes, and full chain data (calls + puts with bid/ask/IV/OI)",
                                                            "parameters":  [
                                                                               {
                                                                                   "name":  "symbol",
                                                                                   "in":  "path",
                                                                                   "required":  true,
                                                                                   "schema":  {
                                                                                                  "type":  "string"
                                                                                              },
                                                                                   "description":  "Underlying stock symbol"
                                                                               },
                                                                               {
                                                                                   "name":  "expiration",
                                                                                   "in":  "query",
                                                                                   "schema":  {
                                                                                                  "type":  "string"
                                                                                              },
                                                                                   "description":  "Filter to specific expiration in YYYYMMDD format"
                                                                               }
                                                                           ],
                                                            "responses":  {
                                                                              "200":  {
                                                                                          "description":  "Options chain",
                                                                                          "content":  {
                                                                                                          "application/json":  {
                                                                                                                                   "schema":  {
                                                                                                                                                  "type":  "object",
                                                                                                                                                  "properties":  {
                                                                                                                                                                     "symbol":  {
                                                                                                                                                                                    "type":  "string"
                                                                                                                                                                                },
                                                                                                                                                                     "expirations":  {
                                                                                                                                                                                         "type":  "array",
                                                                                                                                                                                         "items":  {
                                                                                                                                                                                                       "type":  "string"
                                                                                                                                                                                                   }
                                                                                                                                                                                     },
                                                                                                                                                                     "strikes":  {
                                                                                                                                                                                     "type":  "array",
                                                                                                                                                                                     "items":  {
                                                                                                                                                                                                   "type":  "number"
                                                                                                                                                                                               }
                                                                                                                                                                                 },
                                                                                                                                                                     "calls":  {
                                                                                                                                                                                   "type":  "array",
                                                                                                                                                                                   "items":  {
                                                                                                                                                                                                 "type":  "object",
                                                                                                                                                                                                 "properties":  {
                                                                                                                                                                                                                    "contractSymbol":  {
                                                                                                                                                                                                                                           "type":  "string"
                                                                                                                                                                                                                                       },
                                                                                                                                                                                                                    "strike":  {
                                                                                                                                                                                                                                   "type":  "number"
                                                                                                                                                                                                                               },
                                                                                                                                                                                                                    "expiration":  {
                                                                                                                                                                                                                                       "type":  "string"
                                                                                                                                                                                                                                   },
                                                                                                                                                                                                                    "type":  {
                                                                                                                                                                                                                                 "type":  "string",
                                                                                                                                                                                                                                 "enum":  [
                                                                                                                                                                                                                                              "C",
                                                                                                                                                                                                                                              "P"
                                                                                                                                                                                                                                          ]
                                                                                                                                                                                                                             },
                                                                                                                                                                                                                    "lastPrice":  {
                                                                                                                                                                                                                                      "type":  "number",
                                                                                                                                                                                                                                      "nullable":  true
                                                                                                                                                                                                                                  },
                                                                                                                                                                                                                    "bid":  {
                                                                                                                                                                                                                                "type":  "number",
                                                                                                                                                                                                                                "nullable":  true
                                                                                                                                                                                                                            },
                                                                                                                                                                                                                    "ask":  {
                                                                                                                                                                                                                                "type":  "number",
                                                                                                                                                                                                                                "nullable":  true
                                                                                                                                                                                                                            },
                                                                                                                                                                                                                    "volume":  {
                                                                                                                                                                                                                                   "type":  "integer",
                                                                                                                                                                                                                                   "nullable":  true
                                                                                                                                                                                                                               },
                                                                                                                                                                                                                    "openInterest":  {
                                                                                                                                                                                                                                         "type":  "integer",
                                                                                                                                                                                                                                         "nullable":  true
                                                                                                                                                                                                                                     },
                                                                                                                                                                                                                    "impliedVolatility":  {
                                                                                                                                                                                                                                              "type":  "number",
                                                                                                                                                                                                                                              "nullable":  true
                                                                                                                                                                                                                                          },
                                                                                                                                                                                                                    "inTheMoney":  {
                                                                                                                                                                                                                                       "type":  "boolean"
                                                                                                                                                                                                                                   }
                                                                                                                                                                                                                }
                                                                                                                                                                                             }
                                                                                                                                                                               },
                                                                                                                                                                     "puts":  {
                                                                                                                                                                                  "type":  "array",
                                                                                                                                                                                  "items":  {
                                                                                                                                                                                                "type":  "object",
                                                                                                                                                                                                "properties":  {
                                                                                                                                                                                                                   "contractSymbol":  {
                                                                                                                                                                                                                                          "type":  "string"
                                                                                                                                                                                                                                      },
                                                                                                                                                                                                                   "strike":  {
                                                                                                                                                                                                                                  "type":  "number"
                                                                                                                                                                                                                              },
                                                                                                                                                                                                                   "expiration":  {
                                                                                                                                                                                                                                      "type":  "string"
                                                                                                                                                                                                                                  },
                                                                                                                                                                                                                   "type":  {
                                                                                                                                                                                                                                "type":  "string",
                                                                                                                                                                                                                                "enum":  [
                                                                                                                                                                                                                                             "C",
                                                                                                                                                                                                                                             "P"
                                                                                                                                                                                                                                         ]
                                                                                                                                                                                                                            },
                                                                                                                                                                                                                   "lastPrice":  {
                                                                                                                                                                                                                                     "type":  "number",
                                                                                                                                                                                                                                     "nullable":  true
                                                                                                                                                                                                                                 },
                                                                                                                                                                                                                   "bid":  {
                                                                                                                                                                                                                               "type":  "number",
                                                                                                                                                                                                                               "nullable":  true
                                                                                                                                                                                                                           },
                                                                                                                                                                                                                   "ask":  {
                                                                                                                                                                                                                               "type":  "number",
                                                                                                                                                                                                                               "nullable":  true
                                                                                                                                                                                                                           },
                                                                                                                                                                                                                   "volume":  {
                                                                                                                                                                                                                                  "type":  "integer",
                                                                                                                                                                                                                                  "nullable":  true
                                                                                                                                                                                                                              },
                                                                                                                                                                                                                   "openInterest":  {
                                                                                                                                                                                                                                        "type":  "integer",
                                                                                                                                                                                                                                        "nullable":  true
                                                                                                                                                                                                                                    },
                                                                                                                                                                                                                   "impliedVolatility":  {
                                                                                                                                                                                                                                             "type":  "number",
                                                                                                                                                                                                                                             "nullable":  true
                                                                                                                                                                                                                                         },
                                                                                                                                                                                                                   "inTheMoney":  {
                                                                                                                                                                                                                                      "type":  "boolean"
                                                                                                                                                                                                                                  }
                                                                                                                                                                                                               }
                                                                                                                                                                                            }
                                                                                                                                                                              }
                                                                                                                                                                 }
                                                                                                                                              }
                                                                                                                               }
                                                                                                      }
                                                                                      }
                                                                          }
                                                        }
                                            },
                  "/api/options/{symbol}/quote":  {
                                                      "get":  {
                                                                  "operationId":  "getOptionQuote",
                                                                  "summary":  "Get quote for a specific option contract",
                                                                  "parameters":  [
                                                                                     {
                                                                                         "name":  "symbol",
                                                                                         "in":  "path",
                                                                                         "required":  true,
                                                                                         "schema":  {
                                                                                                        "type":  "string"
                                                                                                    },
                                                                                         "description":  "Underlying stock symbol"
                                                                                     },
                                                                                     {
                                                                                         "name":  "expiry",
                                                                                         "in":  "query",
                                                                                         "required":  true,
                                                                                         "schema":  {
                                                                                                        "type":  "string"
                                                                                                    },
                                                                                         "description":  "Expiration date YYYYMMDD"
                                                                                     },
                                                                                     {
                                                                                         "name":  "strike",
                                                                                         "in":  "query",
                                                                                         "required":  true,
                                                                                         "schema":  {
                                                                                                        "type":  "number"
                                                                                                    },
                                                                                         "description":  "Strike price"
                                                                                     },
                                                                                     {
                                                                                         "name":  "right",
                                                                                         "in":  "query",
                                                                                         "required":  true,
                                                                                         "schema":  {
                                                                                                        "type":  "string",
                                                                                                        "enum":  [
                                                                                                                     "C",
                                                                                                                     "P"
                                                                                                                 ]
                                                                                                    },
                                                                                         "description":  "C=Call, P=Put"
                                                                                     }
                                                                                 ],
                                                                  "responses":  {
                                                                                    "200":  {
                                                                                                "description":  "Option quote",
                                                                                                "content":  {
                                                                                                                "application/json":  {
                                                                                                                                         "schema":  {
                                                                                                                                                        "type":  "object",
                                                                                                                                                        "properties":  {
                                                                                                                                                                           "symbol":  {
                                                                                                                                                                                          "type":  "string"
                                                                                                                                                                                      },
                                                                                                                                                                           "bid":  {
                                                                                                                                                                                       "type":  "number",
                                                                                                                                                                                       "nullable":  true
                                                                                                                                                                                   },
                                                                                                                                                                           "ask":  {
                                                                                                                                                                                       "type":  "number",
                                                                                                                                                                                       "nullable":  true
                                                                                                                                                                                   },
                                                                                                                                                                           "last":  {
                                                                                                                                                                                        "type":  "number",
                                                                                                                                                                                        "nullable":  true
                                                                                                                                                                                    },
                                                                                                                                                                           "volume":  {
                                                                                                                                                                                          "type":  "number",
                                                                                                                                                                                          "nullable":  true
                                                                                                                                                                                      },
                                                                                                                                                                           "timestamp":  {
                                                                                                                                                                                             "type":  "string"
                                                                                                                                                                                         }
                                                                                                                                                                       }
                                                                                                                                                    }
                                                                                                                                     }
                                                                                                            }
                                                                                            }
                                                                                }
                                                              }
                                                  },
                  "/api/search":  {
                                      "get":  {
                                                  "operationId":  "searchSymbols",
                                                  "summary":  "Search for stocks, ETFs, indices by name or partial symbol",
                                                  "parameters":  [
                                                                     {
                                                                         "name":  "q",
                                                                         "in":  "query",
                                                                         "required":  true,
                                                                         "schema":  {
                                                                                        "type":  "string"
                                                                                    },
                                                                         "description":  "Search query - partial symbol or company name"
                                                                     }
                                                                 ],
                                                  "responses":  {
                                                                    "200":  {
                                                                                "description":  "Search results",
                                                                                "content":  {
                                                                                                "application/json":  {
                                                                                                                         "schema":  {
                                                                                                                                        "type":  "object",
                                                                                                                                        "properties":  {
                                                                                                                                                           "count":  {
                                                                                                                                                                         "type":  "integer"
                                                                                                                                                                     },
                                                                                                                                                           "results":  {
                                                                                                                                                                           "type":  "array",
                                                                                                                                                                           "items":  {
                                                                                                                                                                                         "type":  "object",
                                                                                                                                                                                         "properties":  {
                                                                                                                                                                                                            "symbol":  {
                                                                                                                                                                                                                           "type":  "string"
                                                                                                                                                                                                                       },
                                                                                                                                                                                                            "shortName":  {
                                                                                                                                                                                                                              "type":  "string",
                                                                                                                                                                                                                              "nullable":  true
                                                                                                                                                                                                                          },
                                                                                                                                                                                                            "longName":  {
                                                                                                                                                                                                                             "type":  "string",
                                                                                                                                                                                                                             "nullable":  true
                                                                                                                                                                                                                         },
                                                                                                                                                                                                            "exchange":  {
                                                                                                                                                                                                                             "type":  "string",
                                                                                                                                                                                                                             "nullable":  true
                                                                                                                                                                                                                         },
                                                                                                                                                                                                            "quoteType":  {
                                                                                                                                                                                                                              "type":  "string",
                                                                                                                                                                                                                              "nullable":  true
                                                                                                                                                                                                                          },
                                                                                                                                                                                                            "sector":  {
                                                                                                                                                                                                                           "type":  "string",
                                                                                                                                                                                                                           "nullable":  true
                                                                                                                                                                                                                       },
                                                                                                                                                                                                            "industry":  {
                                                                                                                                                                                                                             "type":  "string",
                                                                                                                                                                                                                             "nullable":  true
                                                                                                                                                                                                                         }
                                                                                                                                                                                                        }
                                                                                                                                                                                     }
                                                                                                                                                                       }
                                                                                                                                                       }
                                                                                                                                    }
                                                                                                                     }
                                                                                            }
                                                                            }
                                                                }
                                              }
                                  },
                  "/api/news/{query}":  {
                                            "get":  {
                                                        "operationId":  "getNews",
                                                        "summary":  "Get recent news articles for a stock ticker or search query",
                                                        "parameters":  [
                                                                           {
                                                                               "name":  "query",
                                                                               "in":  "path",
                                                                               "required":  true,
                                                                               "schema":  {
                                                                                              "type":  "string"
                                                                                          },
                                                                               "description":  "Ticker symbol or search query"
                                                                           }
                                                                       ],
                                                        "responses":  {
                                                                          "200":  {
                                                                                      "description":  "News articles",
                                                                                      "content":  {
                                                                                                      "application/json":  {
                                                                                                                               "schema":  {
                                                                                                                                              "type":  "object",
                                                                                                                                              "properties":  {
                                                                                                                                                                 "count":  {
                                                                                                                                                                               "type":  "integer"
                                                                                                                                                                           },
                                                                                                                                                                 "articles":  {
                                                                                                                                                                                  "type":  "array",
                                                                                                                                                                                  "items":  {
                                                                                                                                                                                                "type":  "object",
                                                                                                                                                                                                "properties":  {
                                                                                                                                                                                                                   "title":  {
                                                                                                                                                                                                                                 "type":  "string"
                                                                                                                                                                                                                             },
                                                                                                                                                                                                                   "publisher":  {
                                                                                                                                                                                                                                     "type":  "string",
                                                                                                                                                                                                                                     "nullable":  true
                                                                                                                                                                                                                                 },
                                                                                                                                                                                                                   "link":  {
                                                                                                                                                                                                                                "type":  "string"
                                                                                                                                                                                                                            },
                                                                                                                                                                                                                   "publishedAt":  {
                                                                                                                                                                                                                                       "type":  "string"
                                                                                                                                                                                                                                   },
                                                                                                                                                                                                                   "relatedTickers":  {
                                                                                                                                                                                                                                          "type":  "array",
                                                                                                                                                                                                                                          "items":  {
                                                                                                                                                                                                                                                        "type":  "string"
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                      }
                                                                                                                                                                                                               }
                                                                                                                                                                                            }
                                                                                                                                                                              }
                                                                                                                                                             }
                                                                                                                                          }
                                                                                                                           }
                                                                                                  }
                                                                                  }
                                                                      }
                                                    }
                                        },
                  "/api/financials/{symbol}":  {
                                                   "get":  {
                                                               "operationId":  "getFinancials",
                                                               "summary":  "Get financial data: revenue, margins, debt, analyst targets, recommendation",
                                                               "parameters":  [
                                                                                  {
                                                                                      "name":  "symbol",
                                                                                      "in":  "path",
                                                                                      "required":  true,
                                                                                      "schema":  {
                                                                                                     "type":  "string"
                                                                                                 },
                                                                                      "description":  "Ticker symbol"
                                                                                  }
                                                                              ],
                                                               "responses":  {
                                                                                 "200":  {
                                                                                             "description":  "Financial data",
                                                                                             "content":  {
                                                                                                             "application/json":  {
                                                                                                                                      "schema":  {
                                                                                                                                                     "type":  "object",
                                                                                                                                                     "properties":  {
                                                                                                                                                                        "symbol":  {
                                                                                                                                                                                       "type":  "string"
                                                                                                                                                                                   },
                                                                                                                                                                        "currentPrice":  {
                                                                                                                                                                                             "type":  "number",
                                                                                                                                                                                             "nullable":  true
                                                                                                                                                                                         },
                                                                                                                                                                        "targetMeanPrice":  {
                                                                                                                                                                                                "type":  "number",
                                                                                                                                                                                                "nullable":  true
                                                                                                                                                                                            },
                                                                                                                                                                        "targetHighPrice":  {
                                                                                                                                                                                                "type":  "number",
                                                                                                                                                                                                "nullable":  true
                                                                                                                                                                                            },
                                                                                                                                                                        "targetLowPrice":  {
                                                                                                                                                                                               "type":  "number",
                                                                                                                                                                                               "nullable":  true
                                                                                                                                                                                           },
                                                                                                                                                                        "recommendationKey":  {
                                                                                                                                                                                                  "type":  "string",
                                                                                                                                                                                                  "nullable":  true
                                                                                                                                                                                              },
                                                                                                                                                                        "recommendationMean":  {
                                                                                                                                                                                                   "type":  "number",
                                                                                                                                                                                                   "nullable":  true
                                                                                                                                                                                               },
                                                                                                                                                                        "numberOfAnalysts":  {
                                                                                                                                                                                                 "type":  "integer",
                                                                                                                                                                                                 "nullable":  true
                                                                                                                                                                                             },
                                                                                                                                                                        "totalRevenue":  {
                                                                                                                                                                                             "type":  "number",
                                                                                                                                                                                             "nullable":  true
                                                                                                                                                                                         },
                                                                                                                                                                        "revenuePerShare":  {
                                                                                                                                                                                                "type":  "number",
                                                                                                                                                                                                "nullable":  true
                                                                                                                                                                                            },
                                                                                                                                                                        "revenueGrowth":  {
                                                                                                                                                                                              "type":  "number",
                                                                                                                                                                                              "nullable":  true
                                                                                                                                                                                          },
                                                                                                                                                                        "grossMargins":  {
                                                                                                                                                                                             "type":  "number",
                                                                                                                                                                                             "nullable":  true
                                                                                                                                                                                         },
                                                                                                                                                                        "operatingMargins":  {
                                                                                                                                                                                                 "type":  "number",
                                                                                                                                                                                                 "nullable":  true
                                                                                                                                                                                             },
                                                                                                                                                                        "profitMargins":  {
                                                                                                                                                                                              "type":  "number",
                                                                                                                                                                                              "nullable":  true
                                                                                                                                                                                          },
                                                                                                                                                                        "ebitda":  {
                                                                                                                                                                                       "type":  "number",
                                                                                                                                                                                       "nullable":  true
                                                                                                                                                                                   },
                                                                                                                                                                        "returnOnEquity":  {
                                                                                                                                                                                               "type":  "number",
                                                                                                                                                                                               "nullable":  true
                                                                                                                                                                                           },
                                                                                                                                                                        "returnOnAssets":  {
                                                                                                                                                                                               "type":  "number",
                                                                                                                                                                                               "nullable":  true
                                                                                                                                                                                           },
                                                                                                                                                                        "debtToEquity":  {
                                                                                                                                                                                             "type":  "number",
                                                                                                                                                                                             "nullable":  true
                                                                                                                                                                                         },
                                                                                                                                                                        "freeCashflow":  {
                                                                                                                                                                                             "type":  "number",
                                                                                                                                                                                             "nullable":  true
                                                                                                                                                                                         },
                                                                                                                                                                        "earningsGrowth":  {
                                                                                                                                                                                               "type":  "number",
                                                                                                                                                                                               "nullable":  true
                                                                                                                                                                                           },
                                                                                                                                                                        "totalCash":  {
                                                                                                                                                                                          "type":  "number",
                                                                                                                                                                                          "nullable":  true
                                                                                                                                                                                      },
                                                                                                                                                                        "totalDebt":  {
                                                                                                                                                                                          "type":  "number",
                                                                                                                                                                                          "nullable":  true
                                                                                                                                                                                      }
                                                                                                                                                                    }
                                                                                                                                                 }
                                                                                                                                  }
                                                                                                         }
                                                                                         }
                                                                             }
                                                           }
                                               },
                  "/api/earnings/{symbol}":  {
                                                 "get":  {
                                                             "operationId":  "getEarnings",
                                                             "summary":  "Get earnings history (actual vs estimate) and annual/quarterly financial charts",
                                                             "parameters":  [
                                                                                {
                                                                                    "name":  "symbol",
                                                                                    "in":  "path",
                                                                                    "required":  true,
                                                                                    "schema":  {
                                                                                                   "type":  "string"
                                                                                               },
                                                                                    "description":  "Ticker symbol"
                                                                                }
                                                                            ],
                                                             "responses":  {
                                                                               "200":  {
                                                                                           "description":  "Earnings data",
                                                                                           "content":  {
                                                                                                           "application/json":  {
                                                                                                                                    "schema":  {
                                                                                                                                                   "type":  "object",
                                                                                                                                                   "properties":  {
                                                                                                                                                                      "symbol":  {
                                                                                                                                                                                     "type":  "string"
                                                                                                                                                                                 },
                                                                                                                                                                      "earningsChart":  {
                                                                                                                                                                                            "type":  "array",
                                                                                                                                                                                            "items":  {
                                                                                                                                                                                                          "type":  "object",
                                                                                                                                                                                                          "properties":  {
                                                                                                                                                                                                                             "quarter":  {
                                                                                                                                                                                                                                             "type":  "string"
                                                                                                                                                                                                                                         },
                                                                                                                                                                                                                             "actual":  {
                                                                                                                                                                                                                                            "type":  "number",
                                                                                                                                                                                                                                            "nullable":  true
                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                             "estimate":  {
                                                                                                                                                                                                                                              "type":  "number",
                                                                                                                                                                                                                                              "nullable":  true
                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                         }
                                                                                                                                                                                                      }
                                                                                                                                                                                        },
                                                                                                                                                                      "financialsChart":  {
                                                                                                                                                                                              "type":  "object",
                                                                                                                                                                                              "nullable":  true,
                                                                                                                                                                                              "properties":  {
                                                                                                                                                                                                                 "yearly":  {
                                                                                                                                                                                                                                "type":  "array",
                                                                                                                                                                                                                                "items":  {
                                                                                                                                                                                                                                              "type":  "object",
                                                                                                                                                                                                                                              "properties":  {
                                                                                                                                                                                                                                                                 "date":  {
                                                                                                                                                                                                                                                                              "type":  "integer"
                                                                                                                                                                                                                                                                          },
                                                                                                                                                                                                                                                                 "revenue":  {
                                                                                                                                                                                                                                                                                 "type":  "number"
                                                                                                                                                                                                                                                                             },
                                                                                                                                                                                                                                                                 "earnings":  {
                                                                                                                                                                                                                                                                                  "type":  "number"
                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                             }
                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                            },
                                                                                                                                                                                                                 "quarterly":  {
                                                                                                                                                                                                                                   "type":  "array",
                                                                                                                                                                                                                                   "items":  {
                                                                                                                                                                                                                                                 "type":  "object",
                                                                                                                                                                                                                                                 "properties":  {
                                                                                                                                                                                                                                                                    "date":  {
                                                                                                                                                                                                                                                                                 "type":  "string"
                                                                                                                                                                                                                                                                             },
                                                                                                                                                                                                                                                                    "revenue":  {
                                                                                                                                                                                                                                                                                    "type":  "number"
                                                                                                                                                                                                                                                                                },
                                                                                                                                                                                                                                                                    "earnings":  {
                                                                                                                                                                                                                                                                                     "type":  "number"
                                                                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                             }
                                                                                                                                                                                                                               }
                                                                                                                                                                                                             }
                                                                                                                                                                                          }
                                                                                                                                                                  }
                                                                                                                                               }
                                                                                                                                }
                                                                                                       }
                                                                                       }
                                                                           }
                                                         }
                                             },
                  "/api/trending":  {
                                        "get":  {
                                                    "operationId":  "getTrending",
                                                    "summary":  "Get currently trending stock symbols",
                                                    "parameters":  [
                                                                       {
                                                                           "name":  "region",
                                                                           "in":  "query",
                                                                           "schema":  {
                                                                                          "type":  "string",
                                                                                          "default":  "US"
                                                                                      },
                                                                           "description":  "Country code: \"US\" (default), \"GB\", \"JP\", \"CA\", etc."
                                                                       }
                                                                   ],
                                                    "responses":  {
                                                                      "200":  {
                                                                                  "description":  "Trending symbols",
                                                                                  "content":  {
                                                                                                  "application/json":  {
                                                                                                                           "schema":  {
                                                                                                                                          "type":  "array",
                                                                                                                                          "items":  {
                                                                                                                                                        "type":  "object",
                                                                                                                                                        "properties":  {
                                                                                                                                                                           "symbol":  {
                                                                                                                                                                                          "type":  "string"
                                                                                                                                                                                      }
                                                                                                                                                                       }
                                                                                                                                                    }
                                                                                                                                      }
                                                                                                                       }
                                                                                              }
                                                                              }
                                                                  }
                                                }
                                    },
                  "/api/screener/filters":  {
                                                "get":  {
                                                            "operationId":  "getScreenerFilters",
                                                            "summary":  "Get available stock screener IDs and their descriptions",
                                                            "responses":  {
                                                                              "200":  {
                                                                                          "description":  "Screener ID map",
                                                                                          "content":  {
                                                                                                          "application/json":  {
                                                                                                                                   "schema":  {
                                                                                                                                                  "type":  "object",
                                                                                                                                                  "additionalProperties":  {
                                                                                                                                                                               "type":  "string"
                                                                                                                                                                           }
                                                                                                                                              }
                                                                                                                               }
                                                                                                      }
                                                                                      }
                                                                          }
                                                        }
                                            },
                  "/api/screener/run":  {
                                            "post":  {
                                                         "operationId":  "runScreener",
                                                         "summary":  "Run a stock screener. Returns ranked list of stocks matching criteria.",
                                                         "requestBody":  {
                                                                             "required":  false,
                                                                             "content":  {
                                                                                             "application/json":  {
                                                                                                                      "schema":  {
                                                                                                                                     "type":  "object",
                                                                                                                                     "properties":  {
                                                                                                                                                        "screener_id":  {
                                                                                                                                                                            "type":  "string",
                                                                                                                                                                            "default":  "day_gainers",
                                                                                                                                                                            "description":  "Screener: \"day_gainers\" (default), \"day_losers\", \"most_actives\", \"small_cap_gainers\", \"undervalued_large_caps\", \"aggressive_small_caps\", \"growth_technology_stocks\""
                                                                                                                                                                        },
                                                                                                                                                        "count":  {
                                                                                                                                                                      "type":  "integer",
                                                                                                                                                                      "default":  20,
                                                                                                                                                                      "description":  "Number of results"
                                                                                                                                                                  }
                                                                                                                                                    }
                                                                                                                                 }
                                                                                                                  }
                                                                                         }
                                                                         },
                                                         "responses":  {
                                                                           "200":  {
                                                                                       "description":  "Screener results",
                                                                                       "content":  {
                                                                                                       "application/json":  {
                                                                                                                                "schema":  {
                                                                                                                                               "type":  "object",
                                                                                                                                               "properties":  {
                                                                                                                                                                  "count":  {
                                                                                                                                                                                "type":  "integer"
                                                                                                                                                                            },
                                                                                                                                                                  "results":  {
                                                                                                                                                                                  "type":  "array",
                                                                                                                                                                                  "items":  {
                                                                                                                                                                                                "type":  "object",
                                                                                                                                                                                                "properties":  {
                                                                                                                                                                                                                   "rank":  {
                                                                                                                                                                                                                                "type":  "integer"
                                                                                                                                                                                                                            },
                                                                                                                                                                                                                   "symbol":  {
                                                                                                                                                                                                                                  "type":  "string"
                                                                                                                                                                                                                              },
                                                                                                                                                                                                                   "longName":  {
                                                                                                                                                                                                                                    "type":  "string",
                                                                                                                                                                                                                                    "nullable":  true
                                                                                                                                                                                                                                },
                                                                                                                                                                                                                   "last":  {
                                                                                                                                                                                                                                "type":  "number",
                                                                                                                                                                                                                                "nullable":  true
                                                                                                                                                                                                                            },
                                                                                                                                                                                                                   "change":  {
                                                                                                                                                                                                                                  "type":  "number",
                                                                                                                                                                                                                                  "nullable":  true
                                                                                                                                                                                                                              },
                                                                                                                                                                                                                   "changePercent":  {
                                                                                                                                                                                                                                         "type":  "number",
                                                                                                                                                                                                                                         "nullable":  true
                                                                                                                                                                                                                                     },
                                                                                                                                                                                                                   "volume":  {
                                                                                                                                                                                                                                  "type":  "number",
                                                                                                                                                                                                                                  "nullable":  true
                                                                                                                                                                                                                              },
                                                                                                                                                                                                                   "marketCap":  {
                                                                                                                                                                                                                                     "type":  "number",
                                                                                                                                                                                                                                     "nullable":  true
                                                                                                                                                                                                                                 },
                                                                                                                                                                                                                   "exchange":  {
                                                                                                                                                                                                                                    "type":  "string",
                                                                                                                                                                                                                                    "nullable":  true
                                                                                                                                                                                                                                }
                                                                                                                                                                                                               }
                                                                                                                                                                                            }
                                                                                                                                                                              }
                                                                                                                                                              }
                                                                                                                                           }
                                                                                                                            }
                                                                                                   }
                                                                                   }
                                                                       }
                                                     }
                                        },
                  "/api/screener/run-with-quotes":  {
                                                        "post":  {
                                                                     "operationId":  "runScreenerWithQuotes",
                                                                     "summary":  "Run a stock screener with full quote data (bid/ask/OHLC/sector/industry/PE)",
                                                                     "requestBody":  {
                                                                                         "required":  false,
                                                                                         "content":  {
                                                                                                         "application/json":  {
                                                                                                                                  "schema":  {
                                                                                                                                                 "type":  "object",
                                                                                                                                                 "properties":  {
                                                                                                                                                                    "screener_id":  {
                                                                                                                                                                                        "type":  "string",
                                                                                                                                                                                        "default":  "day_gainers",
                                                                                                                                                                                        "description":  "Screener: \"day_gainers\" (default), \"day_losers\", \"most_actives\", \"small_cap_gainers\", \"undervalued_large_caps\", \"aggressive_small_caps\", \"growth_technology_stocks\""
                                                                                                                                                                                    },
                                                                                                                                                                    "count":  {
                                                                                                                                                                                  "type":  "integer",
                                                                                                                                                                                  "default":  20,
                                                                                                                                                                                  "description":  "Number of results"
                                                                                                                                                                              }
                                                                                                                                                                }
                                                                                                                                             }
                                                                                                                              }
                                                                                                     }
                                                                                     },
                                                                     "responses":  {
                                                                                       "200":  {
                                                                                                   "description":  "Screener results with full quotes",
                                                                                                   "content":  {
                                                                                                                   "application/json":  {
                                                                                                                                            "schema":  {
                                                                                                                                                           "type":  "object",
                                                                                                                                                           "properties":  {
                                                                                                                                                                              "count":  {
                                                                                                                                                                                            "type":  "integer"
                                                                                                                                                                                        },
                                                                                                                                                                              "results":  {
                                                                                                                                                                                              "type":  "array",
                                                                                                                                                                                              "items":  {
                                                                                                                                                                                                            "type":  "object",
                                                                                                                                                                                                            "properties":  {
                                                                                                                                                                                                                               "rank":  {
                                                                                                                                                                                                                                            "type":  "integer"
                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                               "symbol":  {
                                                                                                                                                                                                                                              "type":  "string"
                                                                                                                                                                                                                                          },
                                                                                                                                                                                                                               "longName":  {
                                                                                                                                                                                                                                                "type":  "string",
                                                                                                                                                                                                                                                "nullable":  true
                                                                                                                                                                                                                                            },
                                                                                                                                                                                                                               "last":  {
                                                                                                                                                                                                                                            "type":  "number",
                                                                                                                                                                                                                                            "nullable":  true
                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                               "change":  {
                                                                                                                                                                                                                                              "type":  "number",
                                                                                                                                                                                                                                              "nullable":  true
                                                                                                                                                                                                                                          },
                                                                                                                                                                                                                               "changePercent":  {
                                                                                                                                                                                                                                                     "type":  "number",
                                                                                                                                                                                                                                                     "nullable":  true
                                                                                                                                                                                                                                                 },
                                                                                                                                                                                                                               "volume":  {
                                                                                                                                                                                                                                              "type":  "number",
                                                                                                                                                                                                                                              "nullable":  true
                                                                                                                                                                                                                                          },
                                                                                                                                                                                                                               "marketCap":  {
                                                                                                                                                                                                                                                 "type":  "number",
                                                                                                                                                                                                                                                 "nullable":  true
                                                                                                                                                                                                                                             },
                                                                                                                                                                                                                               "exchange":  {
                                                                                                                                                                                                                                                "type":  "string",
                                                                                                                                                                                                                                                "nullable":  true
                                                                                                                                                                                                                                            },
                                                                                                                                                                                                                               "bid":  {
                                                                                                                                                                                                                                           "type":  "number",
                                                                                                                                                                                                                                           "nullable":  true
                                                                                                                                                                                                                                       },
                                                                                                                                                                                                                               "ask":  {
                                                                                                                                                                                                                                           "type":  "number",
                                                                                                                                                                                                                                           "nullable":  true
                                                                                                                                                                                                                                       },
                                                                                                                                                                                                                               "open":  {
                                                                                                                                                                                                                                            "type":  "number",
                                                                                                                                                                                                                                            "nullable":  true
                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                               "high":  {
                                                                                                                                                                                                                                            "type":  "number",
                                                                                                                                                                                                                                            "nullable":  true
                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                               "low":  {
                                                                                                                                                                                                                                           "type":  "number",
                                                                                                                                                                                                                                           "nullable":  true
                                                                                                                                                                                                                                       },
                                                                                                                                                                                                                               "close":  {
                                                                                                                                                                                                                                             "type":  "number",
                                                                                                                                                                                                                                             "nullable":  true
                                                                                                                                                                                                                                         },
                                                                                                                                                                                                                               "sector":  {
                                                                                                                                                                                                                                              "type":  "string",
                                                                                                                                                                                                                                              "nullable":  true
                                                                                                                                                                                                                                          },
                                                                                                                                                                                                                               "industry":  {
                                                                                                                                                                                                                                                "type":  "string",
                                                                                                                                                                                                                                                "nullable":  true
                                                                                                                                                                                                                                            },
                                                                                                                                                                                                                               "trailingPE":  {
                                                                                                                                                                                                                                                  "type":  "number",
                                                                                                                                                                                                                                                  "nullable":  true
                                                                                                                                                                                                                                              },
                                                                                                                                                                                                                               "averageVolume":  {
                                                                                                                                                                                                                                                     "type":  "number",
                                                                                                                                                                                                                                                     "nullable":  true
                                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                           }
                                                                                                                                                                                                        }
                                                                                                                                                                                          }
                                                                                                                                                                          }
                                                                                                                                                       }
                                                                                                                                        }
                                                                                                               }
                                                                                               }
                                                                                   }
                                                                 }
                                                    },
                  "/api/account/summary":  {
                                               "get":  {
                                                           "operationId":  "getAccountSummary",
                                                           "summary":  "Get IBKR account summary: net liquidation, cash, buying power, margin. Requires TWS/Gateway.",
                                                           "responses":  {
                                                                             "200":  {
                                                                                         "description":  "Account summary (or error if IBKR not connected)",
                                                                                         "content":  {
                                                                                                         "application/json":  {
                                                                                                                                  "schema":  {
                                                                                                                                                 "type":  "object",
                                                                                                                                                 "properties":  {
                                                                                                                                                                    "account":  {
                                                                                                                                                                                    "type":  "string"
                                                                                                                                                                                },
                                                                                                                                                                    "netLiquidation":  {
                                                                                                                                                                                           "type":  "number",
                                                                                                                                                                                           "nullable":  true
                                                                                                                                                                                       },
                                                                                                                                                                    "totalCashValue":  {
                                                                                                                                                                                           "type":  "number",
                                                                                                                                                                                           "nullable":  true
                                                                                                                                                                                       },
                                                                                                                                                                    "settledCash":  {
                                                                                                                                                                                        "type":  "number",
                                                                                                                                                                                        "nullable":  true
                                                                                                                                                                                    },
                                                                                                                                                                    "buyingPower":  {
                                                                                                                                                                                        "type":  "number",
                                                                                                                                                                                        "nullable":  true
                                                                                                                                                                                    },
                                                                                                                                                                    "grossPositionValue":  {
                                                                                                                                                                                               "type":  "number",
                                                                                                                                                                                               "nullable":  true
                                                                                                                                                                                           },
                                                                                                                                                                    "maintMarginReq":  {
                                                                                                                                                                                           "type":  "number",
                                                                                                                                                                                           "nullable":  true
                                                                                                                                                                                       },
                                                                                                                                                                    "excessLiquidity":  {
                                                                                                                                                                                            "type":  "number",
                                                                                                                                                                                            "nullable":  true
                                                                                                                                                                                        },
                                                                                                                                                                    "availableFunds":  {
                                                                                                                                                                                           "type":  "number",
                                                                                                                                                                                           "nullable":  true
                                                                                                                                                                                       },
                                                                                                                                                                    "currency":  {
                                                                                                                                                                                     "type":  "string"
                                                                                                                                                                                 },
                                                                                                                                                                    "timestamp":  {
                                                                                                                                                                                      "type":  "string"
                                                                                                                                                                                  }
                                                                                                                                                                }
                                                                                                                                             }
                                                                                                                              }
                                                                                                     }
                                                                                     }
                                                                         }
                                                       }
                                           },
                  "/api/account/positions":  {
                                                 "get":  {
                                                             "operationId":  "getPositions",
                                                             "summary":  "Get all current IBKR positions with symbol, quantity, and average cost. Requires TWS/Gateway.",
                                                             "responses":  {
                                                                               "200":  {
                                                                                           "description":  "Positions list (or error if IBKR not connected)",
                                                                                           "content":  {
                                                                                                           "application/json":  {
                                                                                                                                    "schema":  {
                                                                                                                                                   "type":  "object",
                                                                                                                                                   "properties":  {
                                                                                                                                                                      "count":  {
                                                                                                                                                                                    "type":  "integer"
                                                                                                                                                                                },
                                                                                                                                                                      "positions":  {
                                                                                                                                                                                        "type":  "array",
                                                                                                                                                                                        "items":  {
                                                                                                                                                                                                      "type":  "object",
                                                                                                                                                                                                      "properties":  {
                                                                                                                                                                                                                         "account":  {
                                                                                                                                                                                                                                         "type":  "string"
                                                                                                                                                                                                                                     },
                                                                                                                                                                                                                         "symbol":  {
                                                                                                                                                                                                                                        "type":  "string"
                                                                                                                                                                                                                                    },
                                                                                                                                                                                                                         "secType":  {
                                                                                                                                                                                                                                         "type":  "string"
                                                                                                                                                                                                                                     },
                                                                                                                                                                                                                         "exchange":  {
                                                                                                                                                                                                                                          "type":  "string"
                                                                                                                                                                                                                                      },
                                                                                                                                                                                                                         "currency":  {
                                                                                                                                                                                                                                          "type":  "string"
                                                                                                                                                                                                                                      },
                                                                                                                                                                                                                         "position":  {
                                                                                                                                                                                                                                          "type":  "number"
                                                                                                                                                                                                                                      },
                                                                                                                                                                                                                         "avgCost":  {
                                                                                                                                                                                                                                         "type":  "number"
                                                                                                                                                                                                                                     }
                                                                                                                                                                                                                     }
                                                                                                                                                                                                  }
                                                                                                                                                                                    }
                                                                                                                                                                  }
                                                                                                                                               }
                                                                                                                                }
                                                                                                       }
                                                                                       }
                                                                           }
                                                         }
                                             },
                  "/api/account/pnl":  {
                                           "get":  {
                                                       "operationId":  "getPnL",
                                                       "summary":  "Get daily profit and loss (daily PnL, unrealized PnL, realized PnL). Requires TWS/Gateway.",
                                                       "responses":  {
                                                                         "200":  {
                                                                                     "description":  "PnL data (or error if IBKR not connected)",
                                                                                     "content":  {
                                                                                                     "application/json":  {
                                                                                                                              "schema":  {
                                                                                                                                             "type":  "object",
                                                                                                                                             "properties":  {
                                                                                                                                                                "account":  {
                                                                                                                                                                                "type":  "string"
                                                                                                                                                                            },
                                                                                                                                                                "dailyPnL":  {
                                                                                                                                                                                 "type":  "number",
                                                                                                                                                                                 "nullable":  true
                                                                                                                                                                             },
                                                                                                                                                                "unrealizedPnL":  {
                                                                                                                                                                                      "type":  "number",
                                                                                                                                                                                      "nullable":  true
                                                                                                                                                                                  },
                                                                                                                                                                "realizedPnL":  {
                                                                                                                                                                                    "type":  "number",
                                                                                                                                                                                    "nullable":  true
                                                                                                                                                                                },
                                                                                                                                                                "timestamp":  {
                                                                                                                                                                                  "type":  "string"
                                                                                                                                                                              }
                                                                                                                                                            }
                                                                                                                                         }
                                                                                                                          }
                                                                                                 }
                                                                                 }
                                                                     }
                                                   }
                                       },
                  "/api/account/orders":  {
                                              "get":  {
                                                          "operationId":  "getOpenOrders",
                                                          "summary":  "Get all open orders. Shows orderId, symbol, action, type, quantity, prices, status. Requires TWS/Gateway.",
                                                          "responses":  {
                                                                            "200":  {
                                                                                        "description":  "Open orders list",
                                                                                        "content":  {
                                                                                                        "application/json":  {
                                                                                                                                 "schema":  {
                                                                                                                                                "type":  "object",
                                                                                                                                                "properties":  {
                                                                                                                                                                   "count":  {
                                                                                                                                                                                 "type":  "integer"
                                                                                                                                                                             },
                                                                                                                                                                   "orders":  {
                                                                                                                                                                                  "type":  "array",
                                                                                                                                                                                  "items":  {
                                                                                                                                                                                                "type":  "object",
                                                                                                                                                                                                "properties":  {
                                                                                                                                                                                                                   "orderId":  {
                                                                                                                                                                                                                                   "type":  "integer"
                                                                                                                                                                                                                               },
                                                                                                                                                                                                                   "symbol":  {
                                                                                                                                                                                                                                  "type":  "string"
                                                                                                                                                                                                                              },
                                                                                                                                                                                                                   "secType":  {
                                                                                                                                                                                                                                   "type":  "string"
                                                                                                                                                                                                                               },
                                                                                                                                                                                                                   "action":  {
                                                                                                                                                                                                                                  "type":  "string"
                                                                                                                                                                                                                              },
                                                                                                                                                                                                                   "orderType":  {
                                                                                                                                                                                                                                     "type":  "string"
                                                                                                                                                                                                                                 },
                                                                                                                                                                                                                   "totalQuantity":  {
                                                                                                                                                                                                                                         "type":  "number"
                                                                                                                                                                                                                                     },
                                                                                                                                                                                                                   "lmtPrice":  {
                                                                                                                                                                                                                                    "type":  "number",
                                                                                                                                                                                                                                    "nullable":  true
                                                                                                                                                                                                                                },
                                                                                                                                                                                                                   "auxPrice":  {
                                                                                                                                                                                                                                    "type":  "number",
                                                                                                                                                                                                                                    "nullable":  true
                                                                                                                                                                                                                                },
                                                                                                                                                                                                                   "status":  {
                                                                                                                                                                                                                                  "type":  "string"
                                                                                                                                                                                                                              },
                                                                                                                                                                                                                   "tif":  {
                                                                                                                                                                                                                               "type":  "string"
                                                                                                                                                                                                                           },
                                                                                                                                                                                                                   "account":  {
                                                                                                                                                                                                                                   "type":  "string"
                                                                                                                                                                                                                               }
                                                                                                                                                                                                               }
                                                                                                                                                                                            }
                                                                                                                                                                              }
                                                                                                                                                               }
                                                                                                                                            }
                                                                                                                             }
                                                                                                    }
                                                                                    }
                                                                        }
                                                      }
                                          },
                  "/api/account/orders/completed":  {
                                                        "get":  {
                                                                    "operationId":  "getCompletedOrders",
                                                                    "summary":  "Get completed (filled/cancelled) orders with fill price and quantity. Requires TWS/Gateway.",
                                                                    "responses":  {
                                                                                      "200":  {
                                                                                                  "description":  "Completed orders list",
                                                                                                  "content":  {
                                                                                                                  "application/json":  {
                                                                                                                                           "schema":  {
                                                                                                                                                          "type":  "object",
                                                                                                                                                          "properties":  {
                                                                                                                                                                             "count":  {
                                                                                                                                                                                           "type":  "integer"
                                                                                                                                                                                       },
                                                                                                                                                                             "orders":  {
                                                                                                                                                                                            "type":  "array",
                                                                                                                                                                                            "items":  {
                                                                                                                                                                                                          "type":  "object",
                                                                                                                                                                                                          "properties":  {
                                                                                                                                                                                                                             "orderId":  {
                                                                                                                                                                                                                                             "type":  "integer"
                                                                                                                                                                                                                                         },
                                                                                                                                                                                                                             "symbol":  {
                                                                                                                                                                                                                                            "type":  "string"
                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                             "action":  {
                                                                                                                                                                                                                                            "type":  "string"
                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                             "orderType":  {
                                                                                                                                                                                                                                               "type":  "string"
                                                                                                                                                                                                                                           },
                                                                                                                                                                                                                             "totalQuantity":  {
                                                                                                                                                                                                                                                   "type":  "number"
                                                                                                                                                                                                                                               },
                                                                                                                                                                                                                             "filledQuantity":  {
                                                                                                                                                                                                                                                    "type":  "number"
                                                                                                                                                                                                                                                },
                                                                                                                                                                                                                             "avgFillPrice":  {
                                                                                                                                                                                                                                                  "type":  "number"
                                                                                                                                                                                                                                              },
                                                                                                                                                                                                                             "status":  {
                                                                                                                                                                                                                                            "type":  "string"
                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                             "completedTime":  {
                                                                                                                                                                                                                                                   "type":  "string"
                                                                                                                                                                                                                                               },
                                                                                                                                                                                                                             "account":  {
                                                                                                                                                                                                                                             "type":  "string"
                                                                                                                                                                                                                                         }
                                                                                                                                                                                                                         }
                                                                                                                                                                                                      }
                                                                                                                                                                                        }
                                                                                                                                                                         }
                                                                                                                                                      }
                                                                                                                                       }
                                                                                                              }
                                                                                              }
                                                                                  }
                                                                }
                                                    },
                  "/api/account/executions":  {
                                                  "get":  {
                                                              "operationId":  "getExecutions",
                                                              "summary":  "Get today\u0027s executions/fills with commission and realized P\u0026L. Requires TWS/Gateway.",
                                                              "parameters":  [
                                                                                 {
                                                                                     "name":  "symbol",
                                                                                     "in":  "query",
                                                                                     "schema":  {
                                                                                                    "type":  "string"
                                                                                                },
                                                                                     "description":  "Filter by symbol"
                                                                                 },
                                                                                 {
                                                                                     "name":  "secType",
                                                                                     "in":  "query",
                                                                                     "schema":  {
                                                                                                    "type":  "string"
                                                                                                },
                                                                                     "description":  "Filter by security type: STK, OPT, FUT"
                                                                                 },
                                                                                 {
                                                                                     "name":  "time",
                                                                                     "in":  "query",
                                                                                     "schema":  {
                                                                                                    "type":  "string"
                                                                                                },
                                                                                     "description":  "Filter after this time: yyyymmdd hh:mm:ss"
                                                                                 }
                                                                             ],
                                                              "responses":  {
                                                                                "200":  {
                                                                                            "description":  "Executions list",
                                                                                            "content":  {
                                                                                                            "application/json":  {
                                                                                                                                     "schema":  {
                                                                                                                                                    "type":  "object",
                                                                                                                                                    "properties":  {
                                                                                                                                                                       "count":  {
                                                                                                                                                                                     "type":  "integer"
                                                                                                                                                                                 },
                                                                                                                                                                       "executions":  {
                                                                                                                                                                                          "type":  "array",
                                                                                                                                                                                          "items":  {
                                                                                                                                                                                                        "type":  "object",
                                                                                                                                                                                                        "properties":  {
                                                                                                                                                                                                                           "execId":  {
                                                                                                                                                                                                                                          "type":  "string"
                                                                                                                                                                                                                                      },
                                                                                                                                                                                                                           "orderId":  {
                                                                                                                                                                                                                                           "type":  "integer"
                                                                                                                                                                                                                                       },
                                                                                                                                                                                                                           "symbol":  {
                                                                                                                                                                                                                                          "type":  "string"
                                                                                                                                                                                                                                      },
                                                                                                                                                                                                                           "side":  {
                                                                                                                                                                                                                                        "type":  "string"
                                                                                                                                                                                                                                    },
                                                                                                                                                                                                                           "shares":  {
                                                                                                                                                                                                                                          "type":  "number"
                                                                                                                                                                                                                                      },
                                                                                                                                                                                                                           "price":  {
                                                                                                                                                                                                                                         "type":  "number"
                                                                                                                                                                                                                                     },
                                                                                                                                                                                                                           "avgPrice":  {
                                                                                                                                                                                                                                            "type":  "number"
                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                           "time":  {
                                                                                                                                                                                                                                        "type":  "string"
                                                                                                                                                                                                                                    },
                                                                                                                                                                                                                           "commission":  {
                                                                                                                                                                                                                                              "type":  "number",
                                                                                                                                                                                                                                              "nullable":  true
                                                                                                                                                                                                                                          },
                                                                                                                                                                                                                           "realizedPnL":  {
                                                                                                                                                                                                                                               "type":  "number",
                                                                                                                                                                                                                                               "nullable":  true
                                                                                                                                                                                                                                           },
                                                                                                                                                                                                                           "account":  {
                                                                                                                                                                                                                                           "type":  "string"
                                                                                                                                                                                                                                       }
                                                                                                                                                                                                                       }
                                                                                                                                                                                                    }
                                                                                                                                                                                      }
                                                                                                                                                                   }
                                                                                                                                                }
                                                                                                                                 }
                                                                                                        }
                                                                                        }
                                                                            }
                                                          }
                                              },
                  "/api/contract/{symbol}":  {
                                                 "get":  {
                                                             "operationId":  "getContractDetails",
                                                             "summary":  "Get IBKR contract details: trading hours, exchanges, min tick, multiplier, classification. Requires TWS/Gateway.",
                                                             "parameters":  [
                                                                                {
                                                                                    "name":  "symbol",
                                                                                    "in":  "path",
                                                                                    "required":  true,
                                                                                    "schema":  {
                                                                                                   "type":  "string"
                                                                                               },
                                                                                    "description":  "Symbol, e.g. AAPL, ES, EUR"
                                                                                },
                                                                                {
                                                                                    "name":  "secType",
                                                                                    "in":  "query",
                                                                                    "schema":  {
                                                                                                   "type":  "string"
                                                                                               },
                                                                                    "description":  "Security type: STK (default), OPT, FUT, CASH"
                                                                                },
                                                                                {
                                                                                    "name":  "exchange",
                                                                                    "in":  "query",
                                                                                    "schema":  {
                                                                                                   "type":  "string"
                                                                                               },
                                                                                    "description":  "Exchange: SMART (default), NYSE, GLOBEX"
                                                                                },
                                                                                {
                                                                                    "name":  "currency",
                                                                                    "in":  "query",
                                                                                    "schema":  {
                                                                                                   "type":  "string"
                                                                                               },
                                                                                    "description":  "Currency: USD (default), EUR, GBP"
                                                                                }
                                                                            ],
                                                             "responses":  {
                                                                               "200":  {
                                                                                           "description":  "Contract details",
                                                                                           "content":  {
                                                                                                           "application/json":  {
                                                                                                                                    "schema":  {
                                                                                                                                                   "type":  "object",
                                                                                                                                                   "properties":  {
                                                                                                                                                                      "count":  {
                                                                                                                                                                                    "type":  "integer"
                                                                                                                                                                                },
                                                                                                                                                                      "contracts":  {
                                                                                                                                                                                        "type":  "array",
                                                                                                                                                                                        "items":  {
                                                                                                                                                                                                      "type":  "object",
                                                                                                                                                                                                      "properties":  {
                                                                                                                                                                                                                         "conId":  {
                                                                                                                                                                                                                                       "type":  "integer"
                                                                                                                                                                                                                                   },
                                                                                                                                                                                                                         "symbol":  {
                                                                                                                                                                                                                                        "type":  "string"
                                                                                                                                                                                                                                    },
                                                                                                                                                                                                                         "secType":  {
                                                                                                                                                                                                                                         "type":  "string"
                                                                                                                                                                                                                                     },
                                                                                                                                                                                                                         "exchange":  {
                                                                                                                                                                                                                                          "type":  "string"
                                                                                                                                                                                                                                      },
                                                                                                                                                                                                                         "currency":  {
                                                                                                                                                                                                                                          "type":  "string"
                                                                                                                                                                                                                                      },
                                                                                                                                                                                                                         "longName":  {
                                                                                                                                                                                                                                          "type":  "string"
                                                                                                                                                                                                                                      },
                                                                                                                                                                                                                         "minTick":  {
                                                                                                                                                                                                                                         "type":  "number",
                                                                                                                                                                                                                                         "nullable":  true
                                                                                                                                                                                                                                     },
                                                                                                                                                                                                                         "multiplier":  {
                                                                                                                                                                                                                                            "type":  "number",
                                                                                                                                                                                                                                            "nullable":  true
                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                         "validExchanges":  {
                                                                                                                                                                                                                                                "type":  "string"
                                                                                                                                                                                                                                            },
                                                                                                                                                                                                                         "tradingHours":  {
                                                                                                                                                                                                                                              "type":  "string"
                                                                                                                                                                                                                                          },
                                                                                                                                                                                                                         "liquidHours":  {
                                                                                                                                                                                                                                             "type":  "string"
                                                                                                                                                                                                                                         },
                                                                                                                                                                                                                         "industry":  {
                                                                                                                                                                                                                                          "type":  "string",
                                                                                                                                                                                                                                          "nullable":  true
                                                                                                                                                                                                                                      },
                                                                                                                                                                                                                         "category":  {
                                                                                                                                                                                                                                          "type":  "string",
                                                                                                                                                                                                                                          "nullable":  true
                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                     }
                                                                                                                                                                                                  }
                                                                                                                                                                                    }
                                                                                                                                                                  }
                                                                                                                                               }
                                                                                                                                }
                                                                                                       }
                                                                                       }
                                                                           }
                                                         }
                                             },
                  "/api/ibkr/quote/{symbol}":  {
                                                   "get":  {
                                                               "operationId":  "getIBKRQuote",
                                                               "summary":  "Get a real-time quote snapshot from IBKR TWS (bid, ask, last, OHLC, volume). Requires TWS/Gateway + market data subscription.",
                                                               "parameters":  [
                                                                                  {
                                                                                      "name":  "symbol",
                                                                                      "in":  "path",
                                                                                      "required":  true,
                                                                                      "schema":  {
                                                                                                     "type":  "string"
                                                                                                 },
                                                                                      "description":  "Symbol, e.g. AAPL, ES, EUR"
                                                                                  },
                                                                                  {
                                                                                      "name":  "secType",
                                                                                      "in":  "query",
                                                                                      "schema":  {
                                                                                                     "type":  "string"
                                                                                                 },
                                                                                      "description":  "Security type: STK (default), OPT, FUT, CASH"
                                                                                  },
                                                                                  {
                                                                                      "name":  "exchange",
                                                                                      "in":  "query",
                                                                                      "schema":  {
                                                                                                     "type":  "string"
                                                                                                 },
                                                                                      "description":  "Exchange: SMART (default), NYSE, GLOBEX"
                                                                                  },
                                                                                  {
                                                                                      "name":  "currency",
                                                                                      "in":  "query",
                                                                                      "schema":  {
                                                                                                     "type":  "string"
                                                                                                 },
                                                                                      "description":  "Currency: USD (default), EUR, GBP"
                                                                                  }
                                                                              ],
                                                               "responses":  {
                                                                                 "200":  {
                                                                                             "description":  "IBKR quote snapshot",
                                                                                             "content":  {
                                                                                                             "application/json":  {
                                                                                                                                      "schema":  {
                                                                                                                                                     "type":  "object",
                                                                                                                                                     "properties":  {
                                                                                                                                                                        "symbol":  {
                                                                                                                                                                                       "type":  "string"
                                                                                                                                                                                   },
                                                                                                                                                                        "bid":  {
                                                                                                                                                                                    "type":  "number",
                                                                                                                                                                                    "nullable":  true
                                                                                                                                                                                },
                                                                                                                                                                        "ask":  {
                                                                                                                                                                                    "type":  "number",
                                                                                                                                                                                    "nullable":  true
                                                                                                                                                                                },
                                                                                                                                                                        "last":  {
                                                                                                                                                                                     "type":  "number",
                                                                                                                                                                                     "nullable":  true
                                                                                                                                                                                 },
                                                                                                                                                                        "open":  {
                                                                                                                                                                                     "type":  "number",
                                                                                                                                                                                     "nullable":  true
                                                                                                                                                                                 },
                                                                                                                                                                        "high":  {
                                                                                                                                                                                     "type":  "number",
                                                                                                                                                                                     "nullable":  true
                                                                                                                                                                                 },
                                                                                                                                                                        "low":  {
                                                                                                                                                                                    "type":  "number",
                                                                                                                                                                                    "nullable":  true
                                                                                                                                                                                },
                                                                                                                                                                        "close":  {
                                                                                                                                                                                      "type":  "number",
                                                                                                                                                                                      "nullable":  true
                                                                                                                                                                                  },
                                                                                                                                                                        "volume":  {
                                                                                                                                                                                       "type":  "number",
                                                                                                                                                                                       "nullable":  true
                                                                                                                                                                                   },
                                                                                                                                                                        "timestamp":  {
                                                                                                                                                                                          "type":  "string"
                                                                                                                                                                                      }
                                                                                                                                                                    }
                                                                                                                                                 }
                                                                                                                                  }
                                                                                                         }
                                                                                         }
                                                                             }
                                                           }
                                               }
              }
}
