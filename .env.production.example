# Market Data Bridge — Production Environment Template
#
# This file provides recommended settings for production deployment.
# Copy to .env and customize for your environment.
#
# CRITICAL: Never commit actual API keys or sensitive credentials to git.
# Use environment variables or secrets management (Kubernetes, Docker Compose, etc.)

# ── Docker / Container Environment ──────────────────────────────────────────
# Set to 'production' in containerized deployments
NODE_ENV=production

# ── IBKR TWS/Gateway Connection ────────────────────────────────────────────
# Live Trading: IBKR_PORT=7496 (default, set at runtime)
# Paper Trading: IBKR_PORT=7497
# Note: Can be overridden at container startup: docker run -e IBKR_PORT=7497
IBKR_HOST=127.0.0.1
IBKR_PORT=7496
IBKR_CLIENT_ID=0

# ── REST API Server ────────────────────────────────────────────────────────
# Port must match container EXPOSE declaration (3000)
REST_PORT=3000

# ── REST API Authentication ───────────────────────────────────────────────
# Optional: Set an API key to require authentication on all endpoints
# If unset, endpoints are unauthenticated (use Cloudflare tunnel or firewall)
# REST_API_KEY=your-secure-random-key-here

# ── Eval Engine — LLM API Keys (optional) ──────────────────────────────────
# Set these to enable the 3-model ensemble evaluation engine
# If not set, market data and trading still work fine (just no AI analysis)
# ANTHROPIC_API_KEY=sk-ant-...
# OPENAI_API_KEY=sk-...
# GOOGLE_AI_API_KEY=...

# ── Eval Engine — Model Overrides (optional) ──────────────────────────────
# Use specific model versions (defaults: latest stable)
# CLAUDE_MODEL=claude-opus-4-6
# OPENAI_MODEL=gpt-4o
# GEMINI_MODEL=gemini-2.5-flash
# MODEL_TEMPERATURE=0
# MODEL_TIMEOUT_MS=30000

# ── Ensemble Weights (optional — auto-tuned from outcomes) ────────────────
# Manually set weights if you want to override auto-tuning
# ORCHESTRATOR_WEIGHT_CLAUDE=0.3
# ORCHESTRATOR_WEIGHT_GPT=0.4
# ORCHESTRATOR_WEIGHT_GEMINI=0.3

# ── Holly AI Alert Watcher (optional) ──────────────────────────────────────
# Not typically used in containerized deployments (requires local file access)
# HOLLY_WATCH_PATH=/path/to/alerts.csv
# HOLLY_POLL_INTERVAL_MS=5000

# ── Divoom Times Gate Display (optional) ───────────────────────────────────
# Disable in production unless you have a Divoom device on the network
DIVOOM_ENABLED=false
# DIVOOM_DEVICE_IP=192.168.1.100
# DIVOOM_REFRESH_MS=10000
# DIVOOM_BRIGHTNESS=80

# ── Drift Detection & Auto-Eval (optional) ────────────────────────────────
# Monitor model performance degradation
# DRIFT_ALERTS_ENABLED=true
# AUTO_EVAL_ENABLED=false
# AUTO_EVAL_MAX_CONCURRENT=3

# ── Database (SQLite, auto-initialized) ───────────────────────────────────
# Default: data/market-bridge.db (created automatically)
# Can be overridden for persistent volume mounts
# DATABASE_PATH=/data/market-bridge.db

# ── Logging (optional) ────────────────────────────────────────────────────
# Default: INFO level to console + rotating file logs
# LOG_LEVEL=info
# LOG_FORMAT=json  # or 'text'
